#!/usr/bin/env bash

# Find the directory where this script is located
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# Get the parent directory (project root)
PROJECT_DIR="$( cd "$SCRIPT_DIR/.." && pwd )"

# Try to run with bun first, fallback to npx tsx if bun is not available
if command -v bun >/dev/null 2>&1; then
    exec bun "$PROJECT_DIR/app/main.ts" "$@"
elif command -v npx >/dev/null 2>&1; then
    exec npx tsx "$PROJECT_DIR/app/main.ts" "$@"
else
    echo "Error: Neither bun nor npx/tsx is available. Please install one of them."
    exit 1
fi
